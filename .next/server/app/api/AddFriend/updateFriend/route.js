"use strict";(()=>{var e={};e.id=678,e.ids=[678],e.modules={1185:e=>{e.exports=require("mongoose")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},2781:e=>{e.exports=require("stream")},3837:e=>{e.exports=require("util")},3998:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>F,patchFetch:()=>b,requestAsyncStorage:()=>g,routeModule:()=>f,serverHooks:()=>y,staticGenerationAsyncStorage:()=>c});var i={};r.r(i),r.d(i,{PUT:()=>m});var n=r(9303),a=r(8716),d=r(670),u=r(3222),s=r(3570),o=r(7070),p=r(1482),l=r.n(p);async function m(e){let{friendId:t,Fname:r,Femail:i,token:n}=await e.json();if(console.log("friendId:",t,"Fname:",r,"Femail:",i),!t||!r||!i)return o.NextResponse.json({message:"Please fill all fields"},{status:400});if(!n)return o.NextResponse.json({message:"Unauthorized"},{status:401});try{let e=l().verify(n,"your-secret-key");await (0,u.Z)();let a=await s.Z.findOne({_id:e.userId});if(!a)return o.NextResponse.json({message:"User not found"},{status:404});let d=a.friend.findIndex(e=>e._id.toString()===t);if(-1===d)return o.NextResponse.json({message:"Friend not found"},{status:404});return a.friend[d].Fname=r,a.friend[d].Femail=i,await a.save(),o.NextResponse.json({message:"Friend updated successfully"})}catch(e){return console.error(e),o.NextResponse.json({message:"Error updating friend"},{status:500})}}let f=new n.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/AddFriend/updateFriend/route",pathname:"/api/AddFriend/updateFriend",filename:"route",bundlePath:"app/api/AddFriend/updateFriend/route"},resolvedPagePath:"C:\\Users\\Admin\\Downloads\\BMI\\app\\api\\AddFriend\\updateFriend\\route.ts",nextConfigOutput:"",userland:i}),{requestAsyncStorage:g,staticGenerationAsyncStorage:c,serverHooks:y}=f,F="/api/AddFriend/updateFriend/route";function b(){return(0,d.patchFetch)({serverHooks:y,staticGenerationAsyncStorage:c})}},3222:(e,t,r)=>{r.d(t,{Z:()=>d});var i=r(1185),n=r.n(i);let a=!1,d=async()=>{let e="mongodb+srv://purnima3590:purnima@cluster1.0ytx8.mongodb.net/bmiNextjs?retryWrites=true&w=majority";if(!e)throw Error("Database URL not Defined");if(a){console.log("Alread Connected");return}try{await n().connect(e),console.log("Connected to DB"),a=!0}catch(e){console.log(e)}}},3570:(e,t,r)=>{r.d(t,{Z:()=>d});var i=r(1185),n=r.n(i);let a=new i.Schema({Name:{type:String,default:""},Email:{type:String,required:!1,default:""},Pass:{type:String,required:!1,default:""},bmi:[{Weight:{type:Number,required:!1,default:0},Height:{type:Number,required:!1,default:0},Age:{type:Number,required:!1,default:0},Gender:{type:String,required:!1,default:""},date:{type:Date},bmiValue:{type:Number,default:0}}],friend:[{Fname:{type:String,required:!1,default:""},Femail:{type:String,required:!1,default:""},Fbmi:[{Fheight:{type:Number,required:!1,default:0},Fage:{type:Number,required:!1,default:0},Fweight:{type:Number,required:!1,default:0},Fgender:{type:String,required:!1,default:""},date:{type:Date},FbmiValue:{type:Number,default:0}}]}]},{timestamps:!0}),d=n().models.bmiTable||n().model("bmiTable",a)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[948,972,482],()=>r(3998));module.exports=i})();