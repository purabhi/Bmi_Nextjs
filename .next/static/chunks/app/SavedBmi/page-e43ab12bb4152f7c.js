(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[684],{2027:function(e,t,r){Promise.resolve().then(r.bind(r,6861))},9153:function(e,t){"use strict";t.Z=""},4390:function(e,t,r){"use strict";var a=r(7437),n=r(2265),o=r(6569),s=r.n(o),i=r(6648),l=r(7138),c=r(9714),d=r(6463),u=r(1942);t.Z=()=>{let e=(0,d.useRouter)(),[t,r]=(0,n.useState)(""),[o,m]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=localStorage.getItem("token");e&&r((0,c.o)(e).user.Name)},[e]);let h=()=>{localStorage.removeItem("token"),e.push("/")};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("nav",{className:s().Navbar,children:[(0,a.jsxs)("div",{className:s().logoSection,children:[(0,a.jsx)(l.default,{href:"/",children:(0,a.jsx)(i.default,{src:"/logo.webp",height:50,width:50,alt:"Logo"})}),(0,a.jsxs)(l.default,{className:s().userName,href:"",children:["\uD83D\uDC4B Hi! ",t]})]}),(0,a.jsxs)("div",{className:"".concat(s().navdivs," ").concat(s().desktopNav),children:[(0,a.jsx)(l.default,{href:"/AddNewBmi",className:s().AddNewBook,children:"\uD83E\uDDEE Calculate"}),(0,a.jsx)(l.default,{href:"/Statistic",className:s().AddNewBook,children:"\uD83D\uDCCA Statistics"}),(0,a.jsx)(l.default,{href:"/SavedBmi",className:s().AddNewBook,children:"\uD83D\uDCBE Saved"}),(0,a.jsx)(l.default,{href:"/AddFriend",className:s().AddNewBook,children:"➕ Add Friend"}),(0,a.jsx)("button",{onClick:h,className:s().AddNewBook,children:"\uD83D\uDEAA Logout"})]}),(0,a.jsx)("div",{className:s().hamburger,onClick:()=>m(!o),children:o?(0,a.jsx)(u.aHS,{size:30}):(0,a.jsx)(u.Fm7,{size:30})})]}),(0,a.jsxs)("div",{className:"".concat(s().mobileNav," ").concat(o?s().showMenu:""),children:[(0,a.jsx)(l.default,{href:"/AddNewBmi",className:s().AddNewBook,onClick:()=>m(!1),children:"\uD83E\uDDEE Calculate"}),(0,a.jsx)(l.default,{href:"/Statistic",className:s().AddNewBook,onClick:()=>m(!1),children:"\uD83D\uDCCA Statistics"}),(0,a.jsx)(l.default,{href:"/SavedBmi",className:s().AddNewBook,onClick:()=>m(!1),children:"\uD83D\uDCBE Saved"}),(0,a.jsx)(l.default,{href:"/AddFriend",className:s().AddNewBook,onClick:()=>m(!1),children:"➕ Add Friend"}),(0,a.jsx)("button",{style:{fontSize:"16.3px",cursor:"pointer"},onClick:()=>{h(),m(!1)},className:s().AddNewBook,children:"\uD83D\uDEAA Logout"})]})]})}},6861:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var a=r(7437),n=r(2265),o=r(6463),s=r(4156),i=r(4507),l=r.n(i),c=r(6356),d=r(4390),u=r(9153);function m(){let e=(0,o.useRouter)(),[t,r]=(0,n.useState)([]),[i,m]=(0,n.useState)([]),[h,f]=(0,n.useState)("myself");(0,n.useEffect)(()=>{let t=localStorage.getItem("token");t?(v(t,h),b(t)):((0,s.yv)("Login First!",{variant:"warning"}),e.push("/"))},[e,h]);let v=async(e,t)=>{let a=await fetch("".concat(u.Z,"/api/Bmi/getBmiData"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,target:t})}),n=await a.json();a.ok?r(n.bmiData):(0,s.yv)(n.message,{variant:"error"})},b=async e=>{let t=await fetch("".concat(u.Z,"/api/AddFriend/getAllFriend"),{method:"GET",headers:{authorization:e}}),r=await t.json();t.ok?m(r.friends):(0,s.yv)(r.message,{variant:"error"})},p=e=>e<18.5?{label:"Underweight",color:"#fdeb2c"}:e>=18.5&&e<24.9?{label:"Normal weight",color:"#00b140"}:e>=25&&e<29.9?{label:"Overweight",color:"#f85656"}:e>=30?{label:"Obese",color:"#ff6f00"}:{label:"Unknown",color:"#f0f0f0"},g=async e=>{if(!window.confirm("Are you sure you want to delete this Bmi Data?"))return;let t=localStorage.getItem("token"),r=await fetch("".concat(u.Z,"/api/Bmi/deleteBmi"),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:h,bmiId:e,token:t})}),a=await r.json();r.ok?((0,s.yv)(a.message,{variant:"success"}),v(t,h)):(0,s.yv)(a.message,{variant:"error"})};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.Z,{}),(0,a.jsx)(s.wT,{}),(0,a.jsxs)("div",{className:l().HomeMain,children:[(0,a.jsx)("h1",{style:{marginBottom:"20px"},children:"Saved BMI's"}),(0,a.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,a.jsx)("label",{htmlFor:"targetDropdown",style:{marginRight:"10px",fontWeight:"600"},children:"View BMI for:"}),(0,a.jsxs)("select",{className:l().view,id:"targetDropdown",value:h,onChange:e=>{f(e.target.value)},children:[(0,a.jsx)("option",{value:"myself",children:"Myself"}),i.map((e,t)=>(0,a.jsx)("option",{value:e.Femail,children:e.Fname},t))]})]}),t.length>0?t.map(e=>{let{label:t,color:r}="myself"===h?p(e.bmiValue):p(e.FbmiValue);return(0,a.jsxs)("div",{className:l().HomeBox,children:[(0,a.jsxs)("div",{className:l().subdiv1,children:[(0,a.jsx)("h6",{className:l().subdivhead,children:new Date(e.date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})}),(0,a.jsx)("p",{children:"myself"===h?e.bmiValue:e.FbmiValue})]}),(0,a.jsxs)("div",{className:l().subdiv2,children:[(0,a.jsxs)("div",{className:l().subsubdiv2,children:[(0,a.jsx)("div",{style:{width:"10px",height:"10px",borderRadius:"50%",backgroundColor:r}}),(0,a.jsx)("span",{style:{whiteSpace:"nowrap"},children:t})]}),(0,a.jsx)("div",{className:l().HomeBox_Icons,children:(0,a.jsx)(c.ZkW,{className:l().HomeBox_Icon,onClick:()=>g(e._id)})})]})]},e._id)}):(0,a.jsx)("p",{children:"No BMI records found for the selected target."})]})]})}},6569:function(e){e.exports={Navbar:"Navbar_Navbar__bBkDi",logoSection:"Navbar_logoSection__UAOP_",userName:"Navbar_userName__C39jB",desktopNav:"Navbar_desktopNav__b1GEQ",mobileNav:"Navbar_mobileNav__AcP63",showMenu:"Navbar_showMenu__vGtj5",AddNewBook:"Navbar_AddNewBook__e42xm",hamburger:"Navbar_hamburger__3eyz1"}},4507:function(e){e.exports={HomeMain:"page_HomeMain__uHV1D",HomeBox:"page_HomeBox___X_TR",subdivhead:"page_subdivhead__i5z1f",HomeBox_Icon:"page_HomeBox_Icon__8_0Fn",subdiv1:"page_subdiv1__SSaKM",subdiv2:"page_subdiv2___6HrY",subsubdiv2:"page_subsubdiv2__u5vs3"}},9714:function(e,t,r){"use strict";r.d(t,{o:function(){return n}});class a extends Error{}function n(e,t){let r;if("string"!=typeof e)throw new a("Invalid token specified: must be a string");t||(t={});let n=!0===t.header?0:1,o=e.split(".")[n];if("string"!=typeof o)throw new a(`Invalid token specified: missing part #${n+1}`);try{r=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{var r;return r=t,decodeURIComponent(atob(r).replace(/(.)/g,(e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}catch(e){return atob(t)}}(o)}catch(e){throw new a(`Invalid token specified: invalid base64 for part #${n+1} (${e.message})`)}try{return JSON.parse(r)}catch(e){throw new a(`Invalid token specified: invalid json for part #${n+1} (${e.message})`)}}a.prototype.name="InvalidTokenError"},1810:function(e,t,r){"use strict";r.d(t,{w_:function(){return d}});var a=r(2265),n={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o=a.createContext&&a.createContext(n),s=["attr","size","title"];function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){var a,n;a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e){return t=>a.createElement(u,i({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,r)=>a.createElement(t.tag,c({key:r},t.attr),e(t.child)))}(e.child))}function u(e){var t=t=>{var r,{attr:n,size:o,title:l}=e,d=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,s),u=o||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),a.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,d,{className:r,style:c(c({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),l&&a.createElement("title",null,l),e.children)};return void 0!==o?a.createElement(o.Consumer,null,e=>t(e)):t(n)}}},function(e){e.O(0,[649,299,699,51,301,971,23,744],function(){return e(e.s=2027)}),_N_E=e.O()}]);