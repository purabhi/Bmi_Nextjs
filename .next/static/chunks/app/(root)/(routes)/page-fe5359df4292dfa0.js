(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[714],{1968:function(e,t,a){Promise.resolve().then(a.bind(a,9590))},9590:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var n=a(7437),i=a(2265),s=a(6463),r=a(7138),l=a(4156),o=a(6697),u=a.n(o),c=a(6648);function d(){let[e,t]=(0,i.useState)(""),[a,o]=(0,i.useState)(""),[d,p]=(0,i.useState)(!1),g=(0,s.useRouter)(),m=async t=>{if(t.preventDefault(),!e.trim()||!a.trim()){(0,l.yv)("All fields are required",{variant:"warning"}),p(!1);return}p(!0);let n=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Email:e.trim(),Pass:a.trim()})}),i=await n.json();if(p(!1),n.ok){let{token:e}=i;e?(localStorage.setItem("token",e),(0,l.yv)(i.message,{variant:"success"}),g.push("/AddNewBmi")):(0,l.yv)("No token received",{variant:"error"})}else(0,l.yv)(i.message,{variant:"error"})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.wT,{}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",marginTop:"50px"},children:[(0,n.jsxs)("div",{className:u().flex,children:[(0,n.jsx)("h1",{className:u()["text-2xl"],children:"Login"}),(0,n.jsxs)("form",{onSubmit:m,className:u().form,children:[(0,n.jsx)("input",{type:"email",placeholder:"Email",value:e,onChange:e=>t(e.target.value),className:u().input,required:!0}),(0,n.jsx)("input",{type:"password",placeholder:"Password",value:a,onChange:e=>o(e.target.value),className:u().input,required:!0}),(0,n.jsx)("button",{type:"submit",className:"".concat(u().button," ").concat(d?u().disabled:""),disabled:d,children:d?"Logging in....":"Login"})]}),(0,n.jsxs)("p",{className:u()["mt-4"],children:["Don't have an account?"," ",(0,n.jsx)(r.default,{href:"/register",className:"text-blue-500 hover:underline",children:"Register"})]})]}),(0,n.jsx)("div",{className:u().imgdiv,children:(0,n.jsx)(c.default,{src:"/login.webp",height:450,width:450,alt:"Logo"})})]})]})}},6697:function(e){e.exports={flex:"page_flex__gn4Q7","text-2xl":"page_text-2xl__vO9_F",form:"page_form__JKpIk",input:"page_input__8LUDn",button:"page_button__FwT2g",disabled:"page_disabled__MLxWA",link:"page_link__7_9q9","mt-4":"page_mt-4__E7PaA",imgdiv:"page_imgdiv__C_zB4"}}},function(e){e.O(0,[555,301,971,23,744],function(){return e(e.s=1968)}),_N_E=e.O()}]);