(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[718],{318:function(e,t,a){Promise.resolve().then(a.bind(a,7047))},9153:function(e,t){"use strict";t.Z=""},4390:function(e,t,a){"use strict";var o=a(7437),s=a(2265),r=a(6569),i=a.n(r),n=a(6648),l=a(7138),d=a(9714),c=a(6463),u=a(1942);t.Z=()=>{let e=(0,c.useRouter)(),[t,a]=(0,s.useState)(""),[r,h]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=localStorage.getItem("token");e&&a((0,d.o)(e).user.Name)},[e]);let m=()=>{localStorage.removeItem("token"),e.push("/")};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("nav",{className:i().Navbar,children:[(0,o.jsxs)("div",{className:i().logoSection,children:[(0,o.jsx)(l.default,{href:"/",children:(0,o.jsx)(n.default,{src:"/logo.webp",height:50,width:50,alt:"Logo"})}),(0,o.jsxs)(l.default,{className:i().userName,href:"",children:["\uD83D\uDC4B Hi! ",t]})]}),(0,o.jsxs)("div",{className:"".concat(i().navdivs," ").concat(i().desktopNav),children:[(0,o.jsx)(l.default,{href:"/AddNewBmi",className:i().AddNewBook,children:"\uD83E\uDDEE Calculate"}),(0,o.jsx)(l.default,{href:"/Statistic",className:i().AddNewBook,children:"\uD83D\uDCCA Statistics"}),(0,o.jsx)(l.default,{href:"/SavedBmi",className:i().AddNewBook,children:"\uD83D\uDCBE Saved"}),(0,o.jsx)(l.default,{href:"/AddFriend",className:i().AddNewBook,children:"➕ Add Friend"}),(0,o.jsx)("button",{onClick:m,className:i().AddNewBook,children:"\uD83D\uDEAA Logout"})]}),(0,o.jsx)("div",{className:i().hamburger,onClick:()=>h(!r),children:r?(0,o.jsx)(u.aHS,{size:30}):(0,o.jsx)(u.Fm7,{size:30})})]}),(0,o.jsxs)("div",{className:"".concat(i().mobileNav," ").concat(r?i().showMenu:""),children:[(0,o.jsx)(l.default,{href:"/AddNewBmi",className:i().AddNewBook,onClick:()=>h(!1),children:"\uD83E\uDDEE Calculate"}),(0,o.jsx)(l.default,{href:"/Statistic",className:i().AddNewBook,onClick:()=>h(!1),children:"\uD83D\uDCCA Statistics"}),(0,o.jsx)(l.default,{href:"/SavedBmi",className:i().AddNewBook,onClick:()=>h(!1),children:"\uD83D\uDCBE Saved"}),(0,o.jsx)(l.default,{href:"/AddFriend",className:i().AddNewBook,onClick:()=>h(!1),children:"➕ Add Friend"}),(0,o.jsx)("button",{style:{fontSize:"16.3px",cursor:"pointer"},onClick:()=>{m(),h(!1)},className:i().AddNewBook,children:"\uD83D\uDEAA Logout"})]})]})}},7047:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var o=a(7437),s=a(2265),r=a(6463),i=a(4156),n=a(4766),l=a.n(n),d=a(4390),c=a(9153),u=a(7346),h=a(5211);function m(){let e=(0,r.useRouter)(),[t,a]=(0,s.useState)([]),[n,h]=(0,s.useState)([]),[m,f]=(0,s.useState)("myself");(0,s.useEffect)(()=>{let t=localStorage.getItem("token");t?(N(t,m),x(t)):((0,i.yv)("Login First!",{variant:"warning"}),e.push("/"))},[e,m]);let N=async(e,t)=>{let o=await fetch("".concat(c.Z,"/api/Bmi/getBmiData"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,target:t})}),s=await o.json();o.ok?a(s.bmiData):((0,i.yv)(s.message,{variant:"error"}),a([]))},x=async e=>{let t=await fetch("".concat(c.Z,"/api/AddFriend/getAllFriend"),{method:"GET",headers:{authorization:e}}),a=await t.json();t.ok?h(a.friends):(0,i.yv)(a.message,{variant:"error"})},g=t.reduce((e,t)=>{let a=new Date(t.date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"});e[a]||(e[a]=[]);let o="myself"===m?t.bmiValue:t.FbmiValue;return e[a].push(o),e},{}),v=Object.keys(g),_={labels:v,datasets:[{label:"BMI Value",data:v.map(e=>{let t=g[e];return t.length>1?t.reduce((e,t)=>e+t,0)/t.length:t[0]}),borderColor:"#8884d8",backgroundColor:"#8884d850",fill:!0,tension:.4,pointRadius:6,pointBackgroundColor:"#fff",pointBorderColor:"#8884d8",pointBorderWidth:2}]};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d.Z,{}),(0,o.jsx)(i.wT,{}),(0,o.jsxs)("div",{className:l().HomeMain,children:[(0,o.jsx)("h1",{style:{marginBottom:"20px"},children:"BMI Statistics"}),(0,o.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,o.jsx)("label",{htmlFor:"targetDropdown",style:{marginRight:"10px",fontWeight:"600"},children:"View BMI for:"}),(0,o.jsxs)("select",{id:"targetDropdown",value:m,onChange:e=>{let t=e.target.value;f(t);let a=localStorage.getItem("token");a&&N(a,t)},children:[(0,o.jsx)("option",{value:"myself",children:"Myself"}),n.map((e,t)=>(0,o.jsx)("option",{value:e.Femail,children:e.Fname},t))]})]}),t.length>0?(0,o.jsx)("div",{className:l().chart,children:(0,o.jsx)(u.x1,{data:_,options:{responsive:!0,plugins:{title:{display:!0,text:"BMI Data Over Time",font:{size:18}},tooltip:{callbacks:{label:e=>{let t=e.raw;return"BMI: ".concat(t.toFixed(2))}}}},scales:{x:{title:{display:!0,text:"Date",font:{size:20}},grid:{display:!1}},y:{title:{display:!0,text:"BMI",font:{size:20}},grid:{color:"#ddd"}}}}})}):(0,o.jsx)("p",{children:"No BMI records found for the selected target."})]})]})}h.kL.register(h.uw,h.f$,h.od,h.jn,h.Dx,h.u,h.De)},6569:function(e){e.exports={Navbar:"Navbar_Navbar__bBkDi",logoSection:"Navbar_logoSection__UAOP_",userName:"Navbar_userName__C39jB",desktopNav:"Navbar_desktopNav__b1GEQ",mobileNav:"Navbar_mobileNav__AcP63",showMenu:"Navbar_showMenu__vGtj5",AddNewBook:"Navbar_AddNewBook__e42xm",hamburger:"Navbar_hamburger__3eyz1"}},4766:function(e){e.exports={HomeMain:"page_HomeMain__fQTnZ",HomeBox:"page_HomeBox___jxmM",HomeBox_Icon:"page_HomeBox_Icon__ZhXcG",chart:"page_chart__xgqDf"}}},function(e){e.O(0,[710,299,699,674,301,237,971,23,744],function(){return e(e.s=318)}),_N_E=e.O()}]);