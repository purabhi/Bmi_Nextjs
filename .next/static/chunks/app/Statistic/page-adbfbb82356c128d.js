(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[718],{318:function(e,a,t){Promise.resolve().then(t.bind(t,7047))},4390:function(e,a,t){"use strict";var o=t(7437),s=t(2265),r=t(6569),i=t.n(r),l=t(6648),n=t(7138),d=t(9714),c=t(6463),u=t(1942);a.Z=()=>{let e=(0,c.useRouter)(),[a,t]=(0,s.useState)(""),[r,h]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=localStorage.getItem("token");e&&t((0,d.o)(e).user.Name)},[e]);let m=()=>{localStorage.removeItem("token"),e.push("/")};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("nav",{className:i().Navbar,children:[(0,o.jsxs)("div",{className:i().logoSection,children:[(0,o.jsx)(n.default,{href:"/",children:(0,o.jsx)(l.default,{src:"/logo.webp",height:50,width:50,alt:"Logo"})}),(0,o.jsxs)(n.default,{className:i().userName,href:"",children:["\uD83D\uDC4B Hi! ",a]})]}),(0,o.jsxs)("div",{className:"".concat(i().navdivs," ").concat(i().desktopNav),children:[(0,o.jsx)(n.default,{href:"/AddNewBmi",className:i().AddNewBook,children:"\uD83E\uDDEE Calculate"}),(0,o.jsx)(n.default,{href:"/Statistic",className:i().AddNewBook,children:"\uD83D\uDCCA Statistics"}),(0,o.jsx)(n.default,{href:"/SavedBmi",className:i().AddNewBook,children:"\uD83D\uDCBE Saved"}),(0,o.jsx)(n.default,{href:"/AddFriend",className:i().AddNewBook,children:"➕ Add Friend"}),(0,o.jsx)("button",{onClick:m,className:i().AddNewBook,children:"\uD83D\uDEAA Logout"})]}),(0,o.jsx)("div",{className:i().hamburger,onClick:()=>h(!r),children:r?(0,o.jsx)(u.aHS,{size:30}):(0,o.jsx)(u.Fm7,{size:30})})]}),(0,o.jsxs)("div",{className:"".concat(i().mobileNav," ").concat(r?i().showMenu:""),children:[(0,o.jsx)(n.default,{href:"/AddNewBmi",className:i().AddNewBook,onClick:()=>h(!1),children:"\uD83E\uDDEE Calculate"}),(0,o.jsx)(n.default,{href:"/Statistic",className:i().AddNewBook,onClick:()=>h(!1),children:"\uD83D\uDCCA Statistics"}),(0,o.jsx)(n.default,{href:"/SavedBmi",className:i().AddNewBook,onClick:()=>h(!1),children:"\uD83D\uDCBE Saved"}),(0,o.jsx)(n.default,{href:"/AddFriend",className:i().AddNewBook,onClick:()=>h(!1),children:"➕ Add Friend"}),(0,o.jsx)("button",{style:{fontSize:"16.3px",cursor:"pointer"},onClick:()=>{m(),h(!1)},className:i().AddNewBook,children:"\uD83D\uDEAA Logout"})]})]})}},7047:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return h}});var o=t(7437),s=t(2265),r=t(6463),i=t(4156),l=t(4766),n=t.n(l),d=t(4390),c=t(7346),u=t(5211);function h(){let e=(0,r.useRouter)(),[a,t]=(0,s.useState)([]),[l,u]=(0,s.useState)([]),[h,m]=(0,s.useState)("myself");(0,s.useEffect)(()=>{let a=localStorage.getItem("token");a?(f(a,h),N(a)):((0,i.yv)("Login First!",{variant:"warning"}),e.push("/"))},[e,h]);let f=async(e,a)=>{let o=await fetch("/api/Bmi/getBmiData",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,target:a})}),s=await o.json();o.ok?t(s.bmiData):((0,i.yv)(s.message,{variant:"error"}),t([]))},N=async e=>{let a=await fetch("/api/AddFriend/getAllFriend",{method:"GET",headers:{authorization:e}}),t=await a.json();a.ok?u(t.friends):(0,i.yv)(t.message,{variant:"error"})},x=a.reduce((e,a)=>{let t=new Date(a.date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"});e[t]||(e[t]=[]);let o="myself"===h?a.bmiValue:a.FbmiValue;return e[t].push(o),e},{}),g=Object.keys(x),v={labels:g,datasets:[{label:"BMI Value",data:g.map(e=>{let a=x[e];return a.length>1?a.reduce((e,a)=>e+a,0)/a.length:a[0]}),borderColor:"#8884d8",backgroundColor:"#8884d850",fill:!0,tension:.4,pointRadius:6,pointBackgroundColor:"#fff",pointBorderColor:"#8884d8",pointBorderWidth:2}]};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d.Z,{}),(0,o.jsx)(i.wT,{}),(0,o.jsxs)("div",{className:n().HomeMain,children:[(0,o.jsx)("h1",{style:{marginBottom:"20px"},children:"BMI Statistics"}),(0,o.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,o.jsx)("label",{htmlFor:"targetDropdown",style:{marginRight:"10px",fontWeight:"600"},children:"View BMI for:"}),(0,o.jsxs)("select",{id:"targetDropdown",value:h,onChange:e=>{let a=e.target.value;m(a);let t=localStorage.getItem("token");t&&f(t,a)},children:[(0,o.jsx)("option",{value:"myself",children:"Myself"}),l.map((e,a)=>(0,o.jsx)("option",{value:e.Femail,children:e.Fname},a))]})]}),a.length>0?(0,o.jsx)("div",{className:n().chart,children:(0,o.jsx)(c.x1,{data:v,options:{responsive:!0,plugins:{title:{display:!0,text:"BMI Data Over Time",font:{size:18}},tooltip:{callbacks:{label:e=>{let a=e.raw;return"BMI: ".concat(a.toFixed(2))}}}},scales:{x:{title:{display:!0,text:"Date",font:{size:20}},grid:{display:!1}},y:{title:{display:!0,text:"BMI",font:{size:20}},grid:{color:"#ddd"}}}}})}):(0,o.jsx)("p",{children:"No BMI records found for the selected target."})]})]})}u.kL.register(u.uw,u.f$,u.od,u.jn,u.Dx,u.u,u.De)},6569:function(e){e.exports={Navbar:"Navbar_Navbar__bBkDi",logoSection:"Navbar_logoSection__UAOP_",userName:"Navbar_userName__C39jB",desktopNav:"Navbar_desktopNav__b1GEQ",mobileNav:"Navbar_mobileNav__AcP63",showMenu:"Navbar_showMenu__vGtj5",AddNewBook:"Navbar_AddNewBook__e42xm",hamburger:"Navbar_hamburger__3eyz1"}},4766:function(e){e.exports={HomeMain:"page_HomeMain__fQTnZ",HomeBox:"page_HomeBox___jxmM",HomeBox_Icon:"page_HomeBox_Icon__ZhXcG",chart:"page_chart__xgqDf"}}},function(e){e.O(0,[710,299,699,674,301,237,971,23,744],function(){return e(e.s=318)}),_N_E=e.O()}]);